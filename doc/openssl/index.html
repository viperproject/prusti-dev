<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Bindings to OpenSSL"><title>openssl - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fbd14db5c88ed452.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="openssl" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (5e1d3299a 2023-03-31)" data-search-js="search-bc5a112813b5d712.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../static.files/storage-d4a1a279bad1a0c0.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-8e6affb8c73a5ff1.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../openssl/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../openssl/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate openssl</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.10.50</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">openssl</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/openssl/lib.rs.html#1-223">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Bindings to OpenSSL</p>
<p>This crate provides a safe interface to the popular OpenSSL cryptography library. OpenSSL versions 1.0.1 through
3.x.x and LibreSSL versions 2.5 through 3.4.1 are supported.</p>
<h2 id="building"><a href="#building">Building</a></h2>
<p>Both OpenSSL libraries and headers are required to build this crate. There are multiple options available to locate
OpenSSL.</p>
<h3 id="vendored"><a href="#vendored">Vendored</a></h3>
<p>If the <code>vendored</code> Cargo feature is enabled, the <code>openssl-src</code> crate will be used to compile and statically link to
a copy of OpenSSL. The build process requires a C compiler, perl (and perl-core), and make. The OpenSSL version will generally track
the newest OpenSSL release, and changes to the version are <em>not</em> considered breaking changes.</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
openssl = { version = &quot;0.10&quot;, features = [&quot;vendored&quot;] }
</code></pre></div>
<p>The vendored copy will not be configured to automatically find the system’s root certificates, but the
<code>openssl-probe</code> crate can be used to do that instead.</p>
<h3 id="automatic"><a href="#automatic">Automatic</a></h3>
<p>The <code>openssl-sys</code> crate will automatically detect OpenSSL installations via Homebrew on macOS and vcpkg on Windows.
Additionally, it will use <code>pkg-config</code> on Unix-like systems to find the system installation.</p>
<div class="example-wrap"><pre class="language-not_rust"><code># macOS (Homebrew)
$ brew install openssl@3

# macOS (MacPorts)
$ sudo port install openssl

# macOS (pkgsrc)
$ sudo pkgin install openssl

# Arch Linux
$ sudo pacman -S pkg-config openssl

# Debian and Ubuntu
$ sudo apt-get install pkg-config libssl-dev

# Fedora
$ sudo dnf install pkg-config openssl-devel

# Alpine Linux
$ apk add pkgconfig openssl-dev
</code></pre></div><h3 id="manual"><a href="#manual">Manual</a></h3>
<p>A set of environment variables can be used to point <code>openssl-sys</code> towards an OpenSSL installation. They will
override the automatic detection logic.</p>
<ul>
<li><code>OPENSSL_DIR</code> - If specified, the directory of an OpenSSL installation. The directory should contain <code>lib</code> and
<code>include</code> subdirectories containing the libraries and headers respectively.</li>
<li><code>OPENSSL_LIB_DIR</code> and <code>OPENSSL_INCLUDE_DIR</code> - If specified, the directories containing the OpenSSL libraries and
headers respectively. This can be used if the OpenSSL installation is split in a nonstandard directory layout.</li>
<li><code>OPENSSL_STATIC</code> - If set, the crate will statically link to OpenSSL rather than dynamically link.</li>
<li><code>OPENSSL_LIBS</code> - If set, a <code>:</code>-separated list of library names to link to (e.g. <code>ssl:crypto</code>). This can be used
if nonstandard library names were used for whatever reason.</li>
<li><code>OPENSSL_NO_VENDOR</code> - If set, always find OpenSSL in the system, even if the <code>vendored</code> feature is enabled.</li>
</ul>
<p>Additionally, these variables can be prefixed with the upper-cased target architecture (e.g.
<code>X86_64_UNKNOWN_LINUX_GNU_OPENSSL_DIR</code>), which can be useful when cross compiling.</p>
<h2 id="feature-detection"><a href="#feature-detection">Feature Detection</a></h2>
<p>APIs have been added to and removed from the various supported OpenSSL versions, and this library exposes the
functionality available in the version being linked against. This means that methods, constants, and even modules
will be present when building against one version of OpenSSL but not when building against another! APIs will
document any version-specific availability restrictions.</p>
<p>A build script can be used to detect the OpenSSL or LibreSSL version at compile time if needed. The <code>openssl-sys</code>
crate propagates the version via the <code>DEP_OPENSSL_VERSION_NUMBER</code> and <code>DEP_OPENSSL_LIBRESSL_VERSION_NUMBER</code>
environment variables to build scripts. The version format is a hex-encoding of the OpenSSL release version:
<code>0xMNNFFPPS</code>. For example, version 1.0.2g’s encoding is <code>0x1_00_02_07_0</code>.</p>
<p>For example, let’s say we want to adjust the TLSv1.3 cipher suites used by a client, but also want to compile
against OpenSSL versions that don’t support TLSv1.3:</p>
<p>Cargo.toml:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
openssl-sys = &quot;0.9&quot;
openssl = &quot;0.10&quot;
</code></pre></div>
<p>build.rs:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::env;

<span class="kw">fn </span>main() {
    <span class="kw">if let </span><span class="prelude-val">Ok</span>(v) = env::var(<span class="string">&quot;DEP_OPENSSL_VERSION_NUMBER&quot;</span>) {
        <span class="kw">let </span>version = u64::from_str_radix(<span class="kw-2">&amp;</span>v, <span class="number">16</span>).unwrap();

        <span class="kw">if </span>version &gt;= <span class="number">0x1_01_01_00_0 </span>{
            <span class="macro">println!</span>(<span class="string">&quot;cargo:rustc-cfg=openssl111&quot;</span>);
        }
    }
}</code></pre></div>
<p>lib.rs:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>openssl::ssl::{SslConnector, SslMethod};

<span class="kw">let </span><span class="kw-2">mut </span>ctx = SslConnector::builder(SslMethod::tls()).unwrap();

<span class="comment">// set_ciphersuites was added in OpenSSL 1.1.1, so we can only call it when linking against that version
</span><span class="attr">#[cfg(openssl111)]
</span>ctx.set_ciphersuites(<span class="string">&quot;TLS_AES_256_GCM_SHA384:TLS_AES_128_GCM_SHA256&quot;</span>).unwrap();</code></pre></div>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="aes/index.html" title="mod openssl::aes">aes</a></div><div class="desc docblock-short">Low level AES IGE and key wrapping functionality</div></li><li><div class="item-name"><a class="mod" href="asn1/index.html" title="mod openssl::asn1">asn1</a></div><div class="desc docblock-short">Defines the format of certificates</div></li><li><div class="item-name"><a class="mod" href="base64/index.html" title="mod openssl::base64">base64</a></div><div class="desc docblock-short">Base64 encoding support.</div></li><li><div class="item-name"><a class="mod" href="bn/index.html" title="mod openssl::bn">bn</a></div><div class="desc docblock-short">BigNum implementation</div></li><li><div class="item-name"><a class="mod" href="cipher/index.html" title="mod openssl::cipher">cipher</a></div><div class="desc docblock-short">Symmetric ciphers.</div></li><li><div class="item-name"><a class="mod" href="cipher_ctx/index.html" title="mod openssl::cipher_ctx">cipher_ctx</a></div><div class="desc docblock-short">The symmetric encryption context.</div></li><li><div class="item-name"><a class="mod" href="cms/index.html" title="mod openssl::cms">cms</a></div><div class="desc docblock-short">SMIME implementation using CMS</div></li><li><div class="item-name"><a class="mod" href="conf/index.html" title="mod openssl::conf">conf</a></div><div class="desc docblock-short">Interface for processing OpenSSL configuration files.</div></li><li><div class="item-name"><a class="mod" href="derive/index.html" title="mod openssl::derive">derive</a></div><div class="desc docblock-short">Shared secret derivation.</div></li><li><div class="item-name"><a class="mod" href="dh/index.html" title="mod openssl::dh">dh</a></div><div class="desc docblock-short">Diffie-Hellman key agreement.</div></li><li><div class="item-name"><a class="mod" href="dsa/index.html" title="mod openssl::dsa">dsa</a></div><div class="desc docblock-short">Digital Signatures</div></li><li><div class="item-name"><a class="mod" href="ec/index.html" title="mod openssl::ec">ec</a></div><div class="desc docblock-short">Elliptic Curve</div></li><li><div class="item-name"><a class="mod" href="ecdsa/index.html" title="mod openssl::ecdsa">ecdsa</a></div><div class="desc docblock-short">Low level Elliptic Curve Digital Signature Algorithm (ECDSA) functions.</div></li><li><div class="item-name"><a class="mod" href="encrypt/index.html" title="mod openssl::encrypt">encrypt</a></div><div class="desc docblock-short">Message encryption.</div></li><li><div class="item-name"><a class="mod" href="envelope/index.html" title="mod openssl::envelope">envelope</a></div><div class="desc docblock-short">Envelope encryption.</div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod openssl::error">error</a></div><div class="desc docblock-short">Errors returned by OpenSSL library.</div></li><li><div class="item-name"><a class="mod" href="ex_data/index.html" title="mod openssl::ex_data">ex_data</a></div></li><li><div class="item-name"><a class="mod" href="hash/index.html" title="mod openssl::hash">hash</a></div><div class="desc docblock-short">Message digest (hash) computation support.</div></li><li><div class="item-name"><a class="mod" href="lib_ctx/index.html" title="mod openssl::lib_ctx">lib_ctx</a></div></li><li><div class="item-name"><a class="mod" href="md/index.html" title="mod openssl::md">md</a></div><div class="desc docblock-short">Message digest algorithms.</div></li><li><div class="item-name"><a class="mod" href="md_ctx/index.html" title="mod openssl::md_ctx">md_ctx</a></div><div class="desc docblock-short">The message digest context.</div></li><li><div class="item-name"><a class="mod" href="memcmp/index.html" title="mod openssl::memcmp">memcmp</a></div><div class="desc docblock-short">Utilities to safely compare cryptographic values.</div></li><li><div class="item-name"><a class="mod" href="nid/index.html" title="mod openssl::nid">nid</a></div><div class="desc docblock-short">A collection of numerical identifiers for OpenSSL objects.</div></li><li><div class="item-name"><a class="mod" href="ocsp/index.html" title="mod openssl::ocsp">ocsp</a></div></li><li><div class="item-name"><a class="mod" href="pkcs5/index.html" title="mod openssl::pkcs5">pkcs5</a></div></li><li><div class="item-name"><a class="mod" href="pkcs7/index.html" title="mod openssl::pkcs7">pkcs7</a></div></li><li><div class="item-name"><a class="mod" href="pkcs12/index.html" title="mod openssl::pkcs12">pkcs12</a></div><div class="desc docblock-short">PKCS #12 archives.</div></li><li><div class="item-name"><a class="mod" href="pkey/index.html" title="mod openssl::pkey">pkey</a></div><div class="desc docblock-short">Public/private key processing.</div></li><li><div class="item-name"><a class="mod" href="pkey_ctx/index.html" title="mod openssl::pkey_ctx">pkey_ctx</a></div><div class="desc docblock-short">The asymmetric encryption context.</div></li><li><div class="item-name"><a class="mod" href="provider/index.html" title="mod openssl::provider">provider</a></div></li><li><div class="item-name"><a class="mod" href="rand/index.html" title="mod openssl::rand">rand</a></div><div class="desc docblock-short">Utilities for secure random number generation.</div></li><li><div class="item-name"><a class="mod" href="rsa/index.html" title="mod openssl::rsa">rsa</a></div><div class="desc docblock-short">Rivest–Shamir–Adleman cryptosystem</div></li><li><div class="item-name"><a class="mod" href="sha/index.html" title="mod openssl::sha">sha</a></div><div class="desc docblock-short">The SHA family of hashes.</div></li><li><div class="item-name"><a class="mod" href="sign/index.html" title="mod openssl::sign">sign</a></div><div class="desc docblock-short">Message signatures.</div></li><li><div class="item-name"><a class="mod" href="srtp/index.html" title="mod openssl::srtp">srtp</a></div></li><li><div class="item-name"><a class="mod" href="ssl/index.html" title="mod openssl::ssl">ssl</a></div><div class="desc docblock-short">SSL/TLS support.</div></li><li><div class="item-name"><a class="mod" href="stack/index.html" title="mod openssl::stack">stack</a></div></li><li><div class="item-name"><a class="mod" href="string/index.html" title="mod openssl::string">string</a></div></li><li><div class="item-name"><a class="mod" href="symm/index.html" title="mod openssl::symm">symm</a></div><div class="desc docblock-short">High level interface to certain symmetric ciphers.</div></li><li><div class="item-name"><a class="mod" href="version/index.html" title="mod openssl::version">version</a></div><div class="desc docblock-short">Build and version information.</div></li><li><div class="item-name"><a class="mod" href="x509/index.html" title="mod openssl::x509">x509</a></div><div class="desc docblock-short">The standard defining the format of public key certificates.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.init.html" title="fn openssl::init">init</a></div></li></ul></section></div></main></body></html>